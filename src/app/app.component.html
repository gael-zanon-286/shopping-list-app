
  <amplify-authenticator [formFields]="formFields">
    <ng-template amplifySlot="authenticated" let-user="user" let-signOut="signOut">
      <ion-app>

        <ion-menu content-id="content">

          <ion-header>
            <ion-toolbar>
              <ion-title>
                <ion-label>{{ 'menu.welcome' | translate }}</ion-label> {{ displayName }}!
              </ion-title>
            </ion-toolbar>
          </ion-header>

          <ion-content>
            <ion-list>

              <ion-menu-toggle>
                <ion-item class="popover" translate (click)="go('my-lists')"><b>{{ 'menu.myLists' | translate }}</b></ion-item>
              </ion-menu-toggle>

              <ion-menu-toggle>
                <ion-item class="popover" translate (click)="go('historic-lists')"><b>{{ 'menu.historicLists' | translate }}</b></ion-item>
              </ion-menu-toggle>


              <ion-item class="popover" (click)="changeLanguage('')" id="nested-trigger"><b>{{ 'menu.languages' | translate }}</b></ion-item>

              <ion-popover trigger="nested-trigger" [dismissOnSelect]="true" side="end">
                <ng-template>
                  <ion-content>
                    <ion-list class="popover">
                      <ion-menu-toggle>
                        <ion-item [button]="true" (click)="changeLanguage('es')">{{ 'menu.spanish' | translate }}</ion-item>
                      </ion-menu-toggle>
                      <ion-menu-toggle>
                        <ion-item [button]="true" (click)="changeLanguage('en')">{{ 'menu.english' | translate }}</ion-item>
                      </ion-menu-toggle>
                    </ion-list>
                  </ion-content>
                </ng-template>
              </ion-popover>

              <ion-menu-toggle>
                <ion-item class="popover" (click)="signOut()"><b>{{ 'menu.signOut' | translate }}</b></ion-item>
              </ion-menu-toggle>

            </ion-list>

          </ion-content>

        </ion-menu>

        <ion-header>
          <ion-toolbar>
            <ion-buttons slot="start">
              <ion-menu-button></ion-menu-button>
            </ion-buttons>
            <ion-title>{{header}}</ion-title>

            <div *ngIf="router.url.startsWith('/historic-lists/') || router.url.startsWith('/my-lists/')" slot="end">
              <ion-icon class="options-icon" [icon]="options" id="options-trigger"></ion-icon>
              <ion-popover side="bottom" alignment="start" trigger="options-trigger" [dismissOnSelect]="true">
                <ng-template>
                  <ion-content>
                    <ion-list style="padding: 0px;">
                      <ion-item class="popover" *ngIf="router.url.startsWith('/historic-lists/')">
                        <ion-label>{{ 'showCost' | translate }}</ion-label>
                        <ion-toggle (click)="toggle()" slot="end" style="margin-right: 3%;"></ion-toggle>
                      </ion-item>
                      <ion-item class="popover" *ngIf="router.url.startsWith('/historic-lists/')" [button]="true" [detail]="false" (click)="deleteList()">Delete List</ion-item>
                      <ion-item class="popover" *ngIf="router.url.startsWith('/my-lists/')" [button]="true" [detail]="false" (click)="deleteStriked()">Delete striked</ion-item>
                      <ion-item class="popover" *ngIf="router.url.startsWith('/my-lists/')" [button]="true" [detail]="false" (click)="addFriend()">Add user to list</ion-item>
                    </ion-list>
                  </ion-content>
                </ng-template>
              </ion-popover>
            </div>

          </ion-toolbar>
        </ion-header>
        <ion-content id="content" >
          <ion-router-outlet></ion-router-outlet>
        </ion-content>
      </ion-app>
    </ng-template>
  </amplify-authenticator>


